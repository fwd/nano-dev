<!--
 ________  ____      ____  ______    
|_   __  ||_  _|    |_  _||_   _ `.  
  | |_ \_|  \ \  /\  / /    | | `. \ 
  |  _|      \ \/  \/ /     | |  | | 
 _| |_        \  /\  /     _| |_.' / 
|_____|        \/  \/     |______.'  
-->
<!DOCTYPE html>
<html lang="en" manifest="appcache">
    <head>
        
    <title>Nano - Offline</title>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0,user-scalable=0">
    <meta name="author" content="https://twitter.com/nano2dev"/>
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="transparent">
    <meta name="apple-mobile-web-app-title" content="Offline">
    <meta property="og:title" content="NanoOffline">
    <!-- <meta property="og:image" content="https://dist/images/cover.png"> -->
    <!-- <meta property="twitter:image" content="dist/images/cover.png"> -->
    <link rel="apple-touch-icon" href="https://nano.to/dist/images/new_icon.png">
    <link rel="icon" type="image/png" href="https://nano.to/dist/favicon.png">

        <style>

            * {
                box-sizing: border-box;
            }
            
            @import url("https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;800&family=PT+Mono&display=swap");
            
            @import url("https://fonts.googleapis.com/css2?family=PT+Mono&display=swap");
            
            @import url("https://fonts.googleapis.com/css2?family=Inter:wght@800&display=swap");
            
            body {
              margin: 0;
              font-family: "Nunito", sans-serif;
              max-width: 100%;
              -ms-overflow-style: none;
            }
            body::-webkit-scrollbar {
              display: none;
            }
            
            .main-container {
              display: flex;
            }
            .main-container__left {
              padding-left: 40px;
              width: 240px;
              height: 100vh;
              z-index: 1;
              background: #fff;
              position: fixed;
              box-shadow: 0px 0px 8px rgba(0, 0, 0, 0.25);
              overflow: auto;
            }
            .main-container__left .main-title {
              font-size: 30px;
              margin-top: 30px;
              margin-bottom: -15px;
            }
            .main-container .tabs {
              padding-top: 60px;
            }
            .main-container .tabs .tab {
              display: flex;
              padding: 2px 0;
              margin-bottom: 25px;
              position: relative;
              cursor: pointer;
              align-items: center;
            }
            .main-container .tabs .tab .desc {
              font-weight: 600;
              font-size: 14px;
              position: absolute;
              left: 40px;
/*              color: #7c7a7a;*/
            }
            .main-container .tabs .first {
              border-right: 5px solid #152a46;
              /*margin-bottom: 30px;*/
            }
            .main-container .tabs .first .desc {
/*              color: #152a46;*/
            }
            .main-container .tools-con {
              padding-top: 170px;
            }
            .main-container .tools-con hr {
              margin-right: 30px;
              border: 0.2px solid #7c7a7a;
            }
            .main-container .tools-con .tools {
/*              color: #7c7a7a;*/
              padding-top: 15px;
            }
            .main-container .tools-con .tools .tool {
              position: relative;
              display: flex;
              padding: 2px 0;
              margin-bottom: 20px;
              cursor: pointer;
            }
            .main-container .tools-con .tools .tool .desc {
              position: absolute;
              left: 40px;
              font-weight: 600;
              font-size: 14px;
            }
            .main-container .tools-con .tools .tool .first-desc {
              top: 4px;
            }
            .main-container__right {
              padding: 10px 4%;
              margin-left: calc(160px + 8%);
              width: calc(100vw - (160px + 4%));
            }
            .main-container__right nav {
              padding: 0.5rem 0;
              display: flex;
              justify-content: flex-end;
            }
            .main-container__right nav .icon {
              display: flex;
              align-items: center;
              padding-right: 20px;
            }
            .main-container__right nav .icon svg {
              cursor: pointer;
            }
            .main-container__right nav > ul > li a,
            .main-container__right nav > ul > li .dropdown__title {
              text-decoration: none;
              text-align: center;
              display: inline-block;
            }
            .main-container__right ul {
              list-style: none;
              margin: 0;
              padding: 0;
              display: grid;
            }
            .main-container__right ul li {
              padding: 0;
            }
            .main-container__right .dropdown {
              position: relative;
            }
            .main-container__right .dropdown__menu a {
              text-decoration: none;
              text-align: left;
              margin-left: 10px;
            }
            .main-container__right .dropdown .dropdown__title {
              pointer-events: none;
            }
            .main-container__right .dropdown .dropdown__title .menu-con {
              display: flex;
              background: #e5e9ee;
              padding: 10px 15px;
              border-radius: 8px;
            }
            .main-container__right .dropdown .dropdown__title .profile {
              padding-right: 15px;
            }
            .main-container__right .dropdown .dropdown__title .profile .image {
              width: 32px;
              height: 32px;
              background: url("https://images.unsplash.com/photo-1504568758572-1c648768a420?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=600&q=60") no-repeat 50% -10%;
              background-size: cover;
              border-radius: 50%;
            }
            .main-container__right .dropdown .dropdown__title .menu {
              display: flex;
              flex-direction: column;
              justify-content: space-around;
              padding: 3px 0;
            }
            .main-container__right .dropdown .dropdown__title .menu .dot {
              width: 4.5px;
              height: 4.5px;
              background: #152a46;
              border-radius: 50%;
            }
            .main-container__right .dropdown:hover .dropdown__menu, .main-container__right .dropdown:focus-within .dropdown__menu {
              opacity: 1;
              z-index: 10;
            }
            .main-container__right .dropdown .dropdown__menu {
              background-color: #fff;
              border-radius: 4px;
              box-shadow: 0 0.15em 0.25em rgba(0, 0, 0, 0.25);
              padding: 0.5em 0;
              min-width: 15ch;
              position: absolute;
              top: calc(100% + 0.25rem);
              left: 25%;
              transform: translateX(-50%);
              transform: rotateX(-90deg) translateX(-50%);
              transform-origin: top center;
              opacity: 0.3;
              z-index: -10;
              transition: 280ms all 120ms ease-out;
            }
            .main-container__right .dropdown .dropdown__menu a {
/*              color: #444;*/
              padding: 0.5em;
              font-size: 14px;
              font-weight: 600;
            }
            .main-container__right .content .Accounts-con .title {
              display: flex;
              justify-content: space-between;
              padding: 20px 0;
              padding-top: 30px;
              padding-bottom: 40px;
            }
            .main-container__right .content .Accounts-con .main {
              font-weight: 600;
              font-size: 18px;
            }
            .main-container__right .content .Accounts-con .sub {
              font-size: 15px;
              color: inherit;
              display: flex;
              align-items: center;
              text-decoration: none;
              border-bottom: 1px solid #152a46;
            }
            .main-container__right .content .Accounts-con .Accounts {
              display: flex;
/*              grid-gap: 20px;*/
/*              grid-template-columns: repeat(auto-fill, minmax(260px, 1fr));*/
/*              justify-items: center;*/
            }
            .main-container__right .content .Accounts-con .Accounts .card {
              overflow: hidden;
              position: relative;
              width: 250px;
              height: 137px;
              border-radius: 8px;
              cursor: pointer;
              color: #FFF;
            }
            .main-container__right .content .Accounts-con .Accounts .card:hover {
              zoom: 1.2;
            }
            .main-container__right .content .Accounts-con .Accounts .card-1 {
              overflow: hidden;
              position: relative;
              width: 250px;
              height: 137px;
              border-radius: 8px;
              background: #1f60b7;
              margin-right: 40px;
            }
            .main-container__right .content .Accounts-con .Accounts .card-1 .rec-1, .main-container__right .content .Accounts-con .Accounts .card-1 .rec-2 {
              position: absolute;
              width: 40px;
              height: 108px;
              right: 0;
              background: #2d9cdb;
              border-radius: 0px 8px 2px 2px;
            }
            .main-container__right .content .Accounts-con .Accounts .card-1 .rec-2 {
              right: 50px;
              bottom: 0;
              border-radius: 2px 2px 0px 0px;
            }
            .main-container__right .card-icon {
              background: #ffffff;
              position: absolute;
              padding: 7px 7px;
              border-radius: 50%;
              bottom: 20px;
              right: 25px;
              width: 20px;
              text-align: center;
              height: 20px;
              font-size: 30px;
              line-height: 0.8;
/*              color: #d2cdcd;*/
            }
            .main-container__right .content .Accounts-con .Accounts .card-2 {
              overflow: hidden;
              position: relative;
              width: 250px;
              height: 137px;
              border-radius: 8px;
              background: #27ae60;
            }
            .main-container__right .content .Accounts-con .Accounts .card-2 .rec-1, .main-container__right .content .Accounts-con .Accounts .card-2 .rec-2 {
              position: absolute;
              width: 40px;
              height: 108px;
              right: 0;
              background: #6fcf97;
              border-radius: 0px 8px 2px 2px;
            }
            .main-container__right .content .Accounts-con .Accounts .card-2 .rec-2 {
              right: 50px;
              bottom: 0;
              border-radius: 2px 2px 0px 0px;
            }
            .main-container__right .content .Accounts-con .Accounts .card-2 .card-icon {
              background: #ffffff;
              position: absolute;
              padding: 7px 7px;
              border-radius: 50%;
              bottom: 20px;
              right: 25px;
            }
            .main-container__right .content .Accounts-con .Accounts .card-3 {
              overflow: hidden;
              position: relative;
              width: 250px;
              height: 137px;
              border-radius: 8px;
              background: #eb5757;
            }
            .main-container__right .content .Accounts-con .Accounts .card-3 .rec-1, .main-container__right .content .Accounts-con .Accounts .card-3 .rec-2 {
              position: absolute;
              width: 40px;
              height: 108px;
              right: 0;
              background: #f2994a;
              border-radius: 0px 8px 2px 2px;
            }
            .main-container__right .content .Accounts-con .Accounts .card-3 .rec-2 {
              right: 50px;
              bottom: 0;
              border-radius: 2px 2px 0px 0px;
            }
            .main-container__right .content .Accounts-con .Accounts .card-3 .card-icon {
              background: #ffffff;
              position: absolute;
              padding: 7px 7px;
              border-radius: 50%;
              bottom: 20px;
              right: 25px;
            }
            .main-container__right .content .Accounts-con .Accounts .card .content {
/*              color: #ffffff;*/
              padding: 25px 0;
              padding-left: 20px;
            }
            .main-container__right .content .Accounts-con .Accounts .card .content div {
              padding-bottom: 20px;
            }
            .main-container__right .content .Accounts-con .Accounts .card .content div:last-of-type {
              padding-bottom: 0;
            }
            .main-container__right .content .Accounts-con .Accounts .card .content .amount {
              font-size: 14px;
              font-weight: 600;
            }
            .pin {
                  font-weight: bold;
    letter-spacing: 2px;
    font-size: 14px;
    color: #f6f6f6;
    text-shadow: 1px 1px 1px #00000057;
            }
            .main-container__right .content .Accounts-con .Accounts .card .content .pin,
            .main-container__right .content .Accounts-con .Accounts .card .content .expiry {
              font-family: "PT Mono", monospace;
              font-size: 12px;
            }
            .main-container__right .content .table-con {
              overflow: scroll;
              -ms-overflow-style: none;
              margin-top: 10px;
            }
            .main-container__right .content .table-con::-webkit-scrollbar {
              display: none;
            }
            .main-container__right .content .table-con .title {
              font-weight: 600;
              font-size: 18px;
              padding: 30px 0;
/*              color: #06101e;*/
              text-align: left;
            }
            .main-container__right .content .table-con td {
              white-space: nowrap;
            }
            .main-container__right .content .table-con table {
              border-collapse: collapse;
              width: 100%;
            }
            .main-container__right .content .table-con thead tr {
              border-radius: 8px 8px 0px 0px;
            }
            .main-container__right .content .table-con th {
              background: #e5e9ee;
              padding: 20px 0;
              padding-left: 40px;
              text-align: left;
            }
            .main-container__right .content .table-con tbody .logo {
              text-align: center;
              font-weight: 800;
              padding: 0 20px;
              font-family: "Inter", sans-serif;
            }
            .main-container__right .content .table-con tbody .logo .red,
            .main-container__right .content .table-con tbody .logo .blue,
            .main-container__right .content .table-con tbody .logo .green {
/*                  background: #fcc8c8;*/
              width: fit-content;
              margin-left: auto;
              margin-right: auto;
              font-size: 18px;
              text-transform: uppercase;
              padding: 6px 12px;
              border-radius: 12px;
              zoom: 0.7;
            }
            .main-container__right .content .table-con tbody tr:nth-child(3n), 
            .main-container__right .content .table-con tbody tr:nth-child(3n-1), 
            .main-container__right .content .table-con tbody tr:nth-child(3n-2) {
              background: #fff;
              border-bottom: 1px solid #00000024;
              cursor: pointer;
            }
             tbody tr:hover {
              opacity: 0.7;
             }
            .main-container__right .content .table-con tbody .logo .red {
/*              color: #f43737;*/
              background: #fcc8c8;
             /* width: fit-content;
              margin-left: auto;
              margin-right: auto;
              padding: 0 5px;*/
            }
            .main-container__right .content .table-con tbody .logo .blue {
/*              color: #0653ba;*/
              background: #c2dbfd;
          /*    width: fit-content;
              margin-left: auto;
              margin-right: auto;
              padding: 0 5px;*/
            }
            .main-container__right .content .table-con tbody .logo .green {
/*              color: #6fcf97;*/
              background: #e2f5ea;
             /* width: fit-content;
              margin-left: auto;
              margin-right: auto;
              padding: 0 5px;*/
            }
            .main-container__right .content .table-con tbody .enable,
            .main-container__right .content .table-con tbody .disable {
              display: none;
            }
            .main-container__right .content .table-con tbody td {
              padding: 0 40px;
              font-size: 14px;
/*              color: #06101E;*/
            }
            #loader {
    position: fixed;
    z-index: 99;
    width: 100%;
    height: 100%;
    background: #FFF;
    font-size: 40px;
    display: flex;
    align-items: center;
    justify-content: center;
            }
            @media (max-width: 700px) {
                .main-container__left {
                    display: none;
                }
                .main-container__right {
                    width: 100%;
                    margin-left: 0;
                }
                .main-container__right .content .Accounts-con .title {
                    padding-top: 15px;
                }
            }
            .import {
              position: absolute;
              opacity: 0;
              left: 0;
              width: 100%;
              top: 0;
              bottom: 0;
              height: 100%;
              z-index: 9;
              cursor: pointer;
            }
            .group {
              display: flex;
              font-size: 22px;
              margin-top: 20px;
              align-items: center;
              justify-content: space-between;
              margin-bottom: 0 !important;
            }
            .btn {
              position: relative;
              border-radius: 5px;
              border: 2px solid;
              padding: 10px 20px;
            }
            .btn:hover {
              background: #000;
              color: #FFF;
              cursor: pointer;
            }
            #send,
            #active {
              position: fixed;
              background: white;
              right: 0;
              top: 0;
              bottom: 0;
              width: 360px;
              padding: 30px;
              z-index: 9;
              box-shadow: 1px 5px 9px #00000030;
              overflow-y: auto;
            }
            .flex {
              display: flex;
              align-items: center;
              justify-content: space-between;
            }
            .button {
              background: #FFF;
              padding: 10px;
              text-align: CENTER;
              width: 100%;
              display: block;
              margin: 10px 0;
              border-radius: 4px;
              border: 3px solid #00000021;
              text-decoration: none;
              color: #000;
            }
            .title {
              margin: 15px 0 5px 0;
              opacity: 0.8;
              font-weight: bold;
              font-size: 14px;
              letter-spacing: 1px;
            }
            input, textarea {
              width: 100%;
              background: #FFF;
              height: 40px;
              appearance: none;
              border: 3px solid #00000021;
              padding: 10px;
              border-radius: 4px;
              font-size: 14px;
            }
            textarea {
              height: 100px;
            }
            .grouped {
              border: 3px solid #00000021;
              padding: 0 20px;
              margin-top: 21px;
              border-radius: 6px;
              margin-bottom: 9px;
            }
            .flex.grouped > div {
              text-align: center;
              justify-content: space-around;
            }
            .send-btn {
              background: #1275f9;
              text-align: center;
              padding: 10px;
              margin: 20px 0 12px 0;
              border-radius: 18px;
              color: #FFF;
              font-weight: bold;
              letter-spacing: 0.5px;
              cursor: pointer;
            }
            .send-btn.inactive {
              opacity: 0.5;
              filter: grayscale(1);
            }
            .Accounts > div {
              margin-bottom: 20px;
            }
            .Accounts b {
              margin-bottom: 4px;
              display: block;
              text-transform: uppercase;
              font-size: 18px;
              letter-spacing: 1px;
            }
            .group {
              flex-wrap: wrap;
            }
            .group > .item {
              margin: 30px 20px;
              border: 1px solid;
/*              color: #000;*/
              padding: 20px;
              min-width: 260px;
              text-align: center;
              font-size: 15px;
              text-transform: uppercase;
              letter-spacing: 1px;
              border-radius: 4px;
              min-height: 110px;
              justify-content: center;
              display: flex;
              align-items: center;
            }
            .group > div:hover {
              background-color: #000;
              color: #FFF;
              cursor: pointer;
            }
            .address-input {
              font-weight: bold;
              letter-spacing: 6px;
              font-size: 15px;
            }
            small {
              font-size: 12px;
              margin-top: 7px;
              display: block;
              opacity: .8;
              letter-spacing: 1px;
              margin-bottom: 20px;
            }
            .mobile-icon {
              position: fixed;
              width: 20px;
              height: 50px;
              right: 20px;
              top: 24px;
              display: none;
              z-index: 3;
            }
            .main-container__left.active {
              display: block;
            }
            @media (max-width: 768px) {
              .mobile-icon {
                display: block;
              }
              .main-container__right .content .Accounts-con .title {
                margin-top: 0 !important;
              }
              .main-container__right .content .Accounts-con .sub {
                margin-right: 45px !important;
              }
            }
        </style>
    </head>
    
    <body>
        <!-- partial:index.partial.html -->
        <div id="app" class="main-container">

            <div v-if="loading" id="loader">
              <div class="main-title" style=" text-align: center; ">
                <span style="zoom: 1.2"><b>Nano</b>Wallet</span>
                <b style="display: block;background: #267aff;color: rgb(255 255 255);font-size: 16px;padding: 7px 9px;text-align: center;margin: 20px;border-radius: 4px;letter-spacing: 0.4px;margin-bottom: -2px;">Warning: Professional Use Only</b>
                <div style="display: none;" :style="`${persisted ? 'display:none' : 'display:block'}`">
                  <div class="group" style="max-width: 270px;margin: 30px auto;">
                    <div class="btn">
                      <input @change="handleBlankImport" type="file" class="import" ref="blankImport" accept=".wallet,.json" />
                      Import
                    </div>
                    <div class="btn" @click="new_wallet()">Start New</div>
                  </div>
                </div>
              </div>
            </div>

            <div v-if="active" id="active">
              <div class="flex">
                <div>{{ active.index || active.name || 'Primary' }}</div>
                <div @click="cancel()">X</div>
              </div>
              <div class="flex grouped">
                <div>
                  <h4><b>Ӿ {{ active.balance || "0" }}</b><br><b style="opacity:.5">Balance</b></h4>
                </div>
                <div>
                  <h4><b>Ӿ {{ active.pending || "0" }}</b><br><b style="opacity:.5">Pending</b></h4>
                </div>
              </div>
              <div>
                <div @click="sending = {}" :class="`send-btn ${Number(active.balance) > 0 ? '' : 'inactive'}`">Send</div>
              </div>
              <div>
                <img style="width: 100%;border: 15px solid #00000042;margin: 10px 0;" :src="`https://chart.apis.google.com/chart?chs=250x250&cht=qr&chl=nano:${active.address}&choe=UTF-8`" alt="">
              </div>
              <!-- <div>
                <div class="title">NICKNAME</div>
                <input v-model="active.nickname" placeholder="Primary"/>
              </div> -->
              <div>
                <div class="title">ADDRESS</div>
                <textarea disabled class="address-input">{{ active.address }}</textarea>
              </div>
              <div>
                <div class="title">WALLET URI</div>
                <a class="button" :href="`nano:${active.address}`" target="_blank">
                  Open Wallet
                </a>
              </div>
              <div>
                <div class="title">NANOLOOKER</div>
                <a class="button" :href="`https://nanolooker.com/account/${active.address}`" target="_blank">
                  Open Explorer
                </a>
              </div>
            </div>

            <div v-if="sending" id="send">
              <div class="flex">
                <div>Send</div>
                <div @click="sending = false">X</div>
              </div>
              <div class="flex grouped">
                <div>
                  <h4><b>Ӿ {{ active.balance || "0" }}</b><br><b style="opacity:.5">Balance</b></h4>
                </div>
                <div>
                  <h4><b>Ӿ {{ active.pending || "0" }}</b><br><b style="opacity:.5">Pending</b></h4>
                </div>
              </div>
              <div>
                <div class="title">FROM</div>
                <textarea disabled class="address-input">{{ active.address }}</textarea>
              </div>
              <div>
                <div class="title">TO</div>
                <input v-model="send.to" placeholder="Address or @Username" />
              </div>
              <div>
                <div class="title">AMOUNT</div>
                <input type="number" v-model="send.amount" placeholder="ex. all, 0.01"/>
              </div>
              <div @click="send()" :class="`send-btn ${Number(active.balance) > 0 ? '' : 'inactive'}`">Send</div>
              <div>
                <!-- <div class="title">NANOLOOKER</div> -->
                <a style="border-bottom: 1px solid; opacity: 0.5; display: block; text-align: center; width: fit-content; margin: 0 auto; margin-top: 20px; " @click="sending = false" target="_blank">
                  Cancel
                </a>
              </div>
            </div>

            <div :class="`main-container__left ${toggleNav ? 'active' : ''}`">
                <div class="main-title"> <b>Nano</b>Wallet</div>
                <div class="tabs">
                    <div class="tab first" @click="config = false, developer = false">
                        <svg width="23" height="24" viewBox="0 0 26 26" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M16.6882 3.4957e-05C16.4882 0.00803496 16.2952 0.044035 16.0942 0.094035L2.50022 3.40603C0.892223 3.80003 -0.113777 5.42204 0.281223 7.03103L2.18722 14.813C2.30272 15.2766 2.52761 15.7057 2.84304 16.0644C3.15848 16.4232 3.55528 16.7012 4.00022 16.875V15C4.00022 12.243 6.24322 10 9.00022 10H21.5942L19.7192 2.28103C19.5534 1.61005 19.1612 1.01678 18.6089 0.601267C18.0566 0.185749 17.3779 -0.0265974 16.6872 3.4957e-05H16.6882ZM17.9062 4.31304L18.7192 7.71903L15.3442 8.53104L14.5002 5.15603L17.9062 4.31304ZM9.00022 12C7.34422 12 6.00022 13.344 6.00022 15V23C6.00022 24.656 7.34422 26 9.00022 26H23.0002C24.6562 26 26.0002 24.656 26.0002 23V15C26.0002 13.344 24.6562 12 23.0002 12H9.00022ZM9.00022 13.594H23.0002C23.7712 13.594 24.4062 14.229 24.4062 15V16H7.59422V15C7.59422 14.229 8.22922 13.594 9.00022 13.594ZM7.59422 19H24.4062V23C24.4062 23.771 23.7712 24.406 23.0002 24.406H9.00022C8.62798 24.4039 8.27157 24.2551 8.00835 23.9919C7.74513 23.7287 7.59632 23.3723 7.59422 23V19Z"
                            fill="#7C7A7A" />
                        </svg>
                        <div class="desc">Accounts</div>
                    </div>
                    <!-- <div class="tab" onclick="alert('Coming soon.')">
                        <svg width="19" height="20" viewBox="0 0 19 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M8 0L15.298 2.28C15.5015 2.34354 15.6794 2.47048 15.8057 2.64229C15.932 2.81409 16.0001 3.02177 16 3.235V5H18C18.2652 5 18.5196 5.10536 18.7071 5.29289C18.8946 5.48043 19 5.73478 19 6V14C19 14.2652 18.8946 14.5196 18.7071 14.7071C18.5196 14.8946 18.2652 15 18 15L14.78 15.001C14.393 15.511 13.923 15.961 13.38 16.331L8 20L2.62 16.332C1.81252 15.7815 1.15175 15.042 0.69514 14.1779C0.238528 13.3138 -0.000101223 12.3513 3.22098e-08 11.374V3.235C0.000120606 3.02194 0.0682866 2.81449 0.194562 2.64289C0.320838 2.47128 0.498622 2.34449 0.702 2.281L8 0ZM8 2.094L2 3.97V11.374C1.99986 11.9862 2.14025 12.5903 2.41036 13.1397C2.68048 13.6892 3.07311 14.1692 3.558 14.543L3.747 14.679L8 17.58L11.782 15H7C6.73478 15 6.48043 14.8946 6.29289 14.7071C6.10536 14.5196 6 14.2652 6 14V6C6 5.73478 6.10536 5.48043 6.29289 5.29289C6.48043 5.10536 6.73478 5 7 5H14V3.97L8 2.094ZM8 10V13H17V10H8ZM8 8H17V7H8V8Z"
                            fill="#7C7A7A" />
                        </svg>
                        <div class="desc">Recurring</div>
                    </div> -->
                    <div class="tab" @click="config = true, developer = false">
                        <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" style=" max-width: 24px; opacity: 0.5; "><g><path d="M0 0h24v24H0z" fill="none"></path><path d="M5.334 4.545a9.99 9.99 0 0 1 3.542-2.048A3.993 3.993 0 0 0 12 3.999a3.993 3.993 0 0 0 3.124-1.502 9.99 9.99 0 0 1 3.542 2.048 3.993 3.993 0 0 0 .262 3.454 3.993 3.993 0 0 0 2.863 1.955 10.043 10.043 0 0 1 0 4.09c-1.16.178-2.23.86-2.863 1.955a3.993 3.993 0 0 0-.262 3.455 9.99 9.99 0 0 1-3.542 2.047A3.993 3.993 0 0 0 12 20a3.993 3.993 0 0 0-3.124 1.502 9.99 9.99 0 0 1-3.542-2.047 3.993 3.993 0 0 0-.262-3.455 3.993 3.993 0 0 0-2.863-1.954 10.043 10.043 0 0 1 0-4.091 3.993 3.993 0 0 0 2.863-1.955 3.993 3.993 0 0 0 .262-3.454zM13.5 14.597a3 3 0 1 0-3-5.196 3 3 0 0 0 3 5.196z"></path></g></svg>
                        <div class="desc">Configure</div>
                    </div>
             <!--        <div class="tab" @click="config = false, developer = true">
                       <svg viewBox="0 0 640 512" xmlns="http://www.w3.org/2000/svg" style=" max-width: 22px; opacity: 0.5; "><path d="M255.03 261.65c6.25 6.25 16.38 6.25 22.63 0l11.31-11.31c6.25-6.25 6.25-16.38 0-22.63L253.25 192l35.71-35.72c6.25-6.25 6.25-16.38 0-22.63l-11.31-11.31c-6.25-6.25-16.38-6.25-22.63 0l-58.34 58.34c-6.25 6.25-6.25 16.38 0 22.63l58.35 58.34zm96.01-11.3l11.31 11.31c6.25 6.25 16.38 6.25 22.63 0l58.34-58.34c6.25-6.25 6.25-16.38 0-22.63l-58.34-58.34c-6.25-6.25-16.38-6.25-22.63 0l-11.31 11.31c-6.25 6.25-6.25 16.38 0 22.63L386.75 192l-35.71 35.72c-6.25 6.25-6.25 16.38 0 22.63zM624 416H381.54c-.74 19.81-14.71 32-32.74 32H288c-18.69 0-33.02-17.47-32.77-32H16c-8.8 0-16 7.2-16 16v16c0 35.2 28.8 64 64 64h512c35.2 0 64-28.8 64-64v-16c0-8.8-7.2-16-16-16zM576 48c0-26.4-21.6-48-48-48H112C85.6 0 64 21.6 64 48v336h512V48zm-64 272H128V64h384v256z"></path></svg>
                        <div class="desc">Developer</div>
                    </div> -->
                </div>
                <!-- end of tabs -->
                <div class="tools-con">
                    <hr>
                    <div class="tools">
                        <div class="tool" style="position: relative;">
                            <input @change="handleImport" type="file" class="import" ref="import" accept=".wallet, .json" />
                            <svg style="transform: rotate(270deg);" width="19" height="20" viewBox="0 0 19 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M3 16H5V18H17V2H5V4H3V1C3 0.734784 3.10536 0.48043 3.29289 0.292893C3.48043 0.105357 3.73478 0 4 0H18C18.2652 0 18.5196 0.105357 18.7071 0.292893C18.8946 0.48043 19 0.734784 19 1V19C19 19.2652 18.8946 19.5196 18.7071 19.7071C18.5196 19.8946 18.2652 20 18 20H4C3.73478 20 3.48043 19.8946 3.29289 19.7071C3.10536 19.5196 3 19.2652 3 19V16ZM5 9H12V11H5V14L0 10L5 6V9Z"
                                fill="#7C7A7A" />
                            </svg>
                            <div class="desc">Import</div>
                        </div>
                        <div class="tool">
                            <svg style="transform: rotate(90deg);" width="19" height="20" viewBox="0 0 19 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M3 16H5V18H17V2H5V4H3V1C3 0.734784 3.10536 0.48043 3.29289 0.292893C3.48043 0.105357 3.73478 0 4 0H18C18.2652 0 18.5196 0.105357 18.7071 0.292893C18.8946 0.48043 19 0.734784 19 1V19C19 19.2652 18.8946 19.5196 18.7071 19.7071C18.5196 19.8946 18.2652 20 18 20H4C3.73478 20 3.48043 19.8946 3.29289 19.7071C3.10536 19.5196 3 19.2652 3 19V16ZM5 9H12V11H5V14L0 10L5 6V9Z"
                                fill="#7C7A7A" />
                            </svg>
                            <div class="desc" @click="export_file()">Export</div>
                        </div>
                        <div class="tool">
                            <svg width="19" height="20" viewBox="0 0 19 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M3 16H5V18H17V2H5V4H3V1C3 0.734784 3.10536 0.48043 3.29289 0.292893C3.48043 0.105357 3.73478 0 4 0H18C18.2652 0 18.5196 0.105357 18.7071 0.292893C18.8946 0.48043 19 0.734784 19 1V19C19 19.2652 18.8946 19.5196 18.7071 19.7071C18.5196 19.8946 18.2652 20 18 20H4C3.73478 20 3.48043 19.8946 3.29289 19.7071C3.10536 19.5196 3 19.2652 3 19V16ZM5 9H12V11H5V14L0 10L5 6V9Z"
                                fill="#7C7A7A" />
                            </svg>
                            <div class="desc" style="color: #eb5757" @click="destroy()">Destroy</div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="mobile-icon" @click="toggleNav = !toggleNav">
              <svg id="Icons" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><defs><style>.cls-1{fill:#232323;}</style></defs><rect class="cls-1" height="4" rx="2" width="22" x="1" y="2"/><rect class="cls-1" height="4" rx="2" width="22" x="1" y="18"/><rect class="cls-1" height="4" rx="2" width="22" x="1" y="10"/></svg>
            </div>

            <!-- right container -->
            <div class="main-container__right">

                <!-- end of navigation -->
                <div v-if="config" class="content">
                  <div class="Accounts-con">
                        <div class="title">
                            <div class="main">Configure</div> <a @click="save()" href="#" class="sub">SAVE</a>
                        </div>
                  </div>
                  <div class="Accounts">
                    <div>
                      <b>NODE URL</b>
                      <div><input type="text" v-model="config_data.node" placeholder="https://rpc.nano.to"></div>
                      <small>Must support <i>process</i>.</small>
                    </div>
                    <div>
                      <b>POW URL</b>
                      <div><input type="text" v-model="config_data.pow" placeholder="https://pow.nano.to"></div>
                      <small>Localhost GPUs work great.</small>
                    </div>
                    <div>
                      <b>KNOWN</b>
                      <div><input type="text" v-model="config_data.known" placeholder="https://nano.to/known.json"></div>
                    </div>
                  </div>
                </div>

                <!-- end of navigation -->
                <div v-if="developer" class="content">
                  <div class="Accounts-con">
                        <div class="title">
                            <div class="main">Developer</div> <a @click="save_config()" href="#" class="sub">Process</a>
                        </div>
                  </div>
                  <div class="group">
                    <div class="item">Convert Raw</div>
                    <div class="item">Checkout API</div>
                    <div class="item">Cronjob API</div>
                    <div class="item">Webhook Subscription</div>
                    <div class="item">SimpleSwap</div>
                    <div class="item">Batch Sending</div>
                    <div class="item">Export Nault File</div>
                    <div class="item">Lease Username</div>
                    <div class="item">Buy GPU Time</div>
                  </div>
                </div>

                <div v-if="!config && !developer" class="content">
                    <div v-if="true" class="Accounts-con">
                        <div class="title">
                            <div class="main">Accounts</div> <a @click="add_account()" href="#" class="sub">Add Account</a>
                        </div>
                        <!-- end of Accounts title -->
                        <div class="Accounts">
                            <div @click="activate(account)" v-for="account in accounts" class="card card-1">
                                <div class="rec-1"></div>
                                <div class="rec-2"></div>
                                <div class="content">
                                    <div class="amount">NANO_</div>
                                    <div class="pin">{{ account.address.replace('nano_', '') }}</div>
                                    <div class="expiry">{{ account.index || account.nickname || 'Primary' }}</div>
                                </div>
                                <div class="card-icon">Ӿ</div>
                                <!--Icon -->
                            </div>
                           <!--  <div v-if="false" class="card card-2">
                                <div class="rec-1"></div>
                                <div class="rec-2"></div>
                                <div class="content">
                                    <div class="amount">NANO_</div>
                                    <div class="pin">1234 **** **** 2345</div>
                                    <div class="expiry">Savings</div>
                                </div>
                                <div class="card-icon">Ӿ</div>
                            </div> -->
                           <!--  <div v-if="false" class="card card-3">
                                <div class="rec-1"></div>
                                <div class="rec-2"></div>
                                <div class="content">
                                    <div class="amount">NANO_</div>
                                    <div class="pin">1234 **** **** 2345</div>
                                    <div class="expiry">Contest</div>
                                </div>
                                <div class="card-icon">Ӿ</div>
                            </div> -->
                        </div>
                    </div>
                    <div class="table-con" v-if="history.length">
                        <div class="title">History</div>
                        <table>
                            <thead>
                                <tr>
                                    <!-- <th></th> -->
                                    <th>Type</th>
                                    <th>Account</th>
                                    <!-- <th>Account</th> -->
                                    <th>Amount</th>
                                    <!-- <th>Recipient</th> -->
                                    <!-- <th>Date</th> -->
                                    <!-- <th></th> -->
                                </tr>
                            </thead>
                            <tbody>
                                <tr v-for="i in history" class="row" @click="nanolooker(i.hash)">
                                    <td class="logo">
                                         <h1 :class="`${i.type === 'send' ? 'red' : 'blue'}`">{{ i.type }}</h1>
                                    </td>
                                   <!--  <td class="logo">
                                        <p>{{ i.type }}</p>
                                    </td> -->
                                    <td class="name">
                                        <p>{{ i.account.slice(0, 18) }}</p>
                                    </td>
                                 <!--    <td class="name">
                                        <p>{{ i.hash.slice(0, 8) }}</p>
                                    </td> -->
                                    <td class="amount">
                                        <p>Ӿ {{ i.amount_nano }}</p>
                                    </td>
                                    <!-- <td class="pin">
                                        <b>{{ i.account }}</b>
                                    </td>  -->
                                   <!--  <td class="date">
                                        <p>01/01/2023</p>
                                    </td> -->
                                  <!--   <td class="disable">
                                        <p>Disable</p>
                                    </td> -->
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <!--table container -->
                </div>
                <!-- main content -->
            </div>

        </div>

        <script src="./nano.js"></script>
        <!-- <script src="https://offline.nano.to/nano.js"></script> -->
        <!-- <script src="https://unpkg.com/@nano/wallet"></script> -->
        <script src="https://cdn.jsdelivr.net/npm/vue@2.6.14"></script>
        <script src="https://cdn.jsdelivr.net/npm/axios@0.26.0"></script>

        <script>

        new Vue({
            
            el: '#app',

            data: { 
              config: false,
              config_data: localStorage.getItem(`nano-offline-config`) ? JSON.parse(localStorage.getItem(`nano-offline-config`)) : {},
              toggleNav: false,
              developer: false,
              history: [],
              sending: false,
              interval: false,
              password: false,
              private: false,
              active: false,
              loading: true,
              accounts: [],
              persisted: typeof localStorage.getItem(`nano-offline`) === 'string'
            },

            mounted() {
              this.load()
            },

            watch: {
              developer() {
                this.toggleNav = false
              },
              config() {
                this.toggleNav = false
              },
            },
            methods: {

              nanolooker(hash) {
                window.open(`https://nanolooker.com/block/${hash}`, '_blank');
              },

              save() {
                localStorage.setItem('nano-offline-config', JSON.stringify(this.config_data))
                alert('Saved')
              },

              send() {
                if (!this.send || !this.send.to || !this.send.amount) return window.alert("Missing param.")
                  nano.sendWithPassword({
                    to: this.send.to, 
                    amount: this.send.amount, 
                    from: this.active.address, 
                    password: window.prompt('Confirm Send. (Password):'),
                  }).then(() => {
                    this.refresh()
                    window.alert('Sent.')
                    this.sending = false
                    this.send.to = ''
                    this.send.amount = ''
                  }).catch(e => {
                    alert(e)
                  })
              },

              cancel() {
                clearInterval(this.interval)
                this.active = false
              },

              refresh(account) {
                nano.rpc({ action: "account_info", account: this.active.address }).then((info) => {
                  if (info.error === "Account not found") return clearInterval(this.interval)
                  if (info.balance_nano) this.active.balance = info.balance_nano
                  if (info.pending_nano) this.active.pending = info.pending_nano
                  this.$forceUpdate()
                })
                nano.rpc({ action: "receivable", account: this.active.address }).then(async (res) => {
                  if (res.blocks && res.blocks.length) await nano.receive_all({
                    address: this.active.address, 
                    password: this.password
                  })
                })
              },

              activate(account) {
                
                if (this.sending) {
                   this.send.to = account.address
                   this.$forceUpdate()
                  return
                }

                this.active = account
                
                this.interval = setInterval(() => {
                  this.refresh()
                }, 10000)

                this.refresh()

              },

              export_account(account) {
                console.log( export_account )
              },

              export_file() {
                // console.log(  )
                this.download( nano.export() )
              },

              download(existing, filename, prefix) {
                if (!existing) return console.error("No wallet to download.")
                var element = document.createElement('a')
                element.setAttribute('href', 'data:text/plain;charset=utf-8,' + encodeURIComponent((prefix ? prefix : '') + existing))
                element.setAttribute('download', `${filename || 'NanoOffline'}.wallet`)
                element.style.display = 'none'
                document.body.appendChild(element)
                element.click()
                document.body.removeChild(element)
              },

              destroy() {
                var sure = window.confirm('Are you sure?')
                if (!sure) return
                localStorage.removeItem('nano-offline')
                window.location.reload()
              },

              handleBlankImport() {

                var self = this

                const reader = new FileReader()
                
                reader.onload = event => {
                  
                  var string = event.target.result

                  var vibe_check = 'AES-256::'

                  if (!string.includes(vibe_check)) return alert('Wallet Not Supported.')

                  self.accounts = nano.import( string.replace(vibe_check, ''), window.prompt('Welcome, back. (Password):'))

                  setTimeout(() => {
                    self.loading = false
                  }, 500)

                }
                
                reader.onerror = error => reject(error)

                reader.readAsText(this.$refs.blankImport.files[0]) 

              },

              handleImport() {

                var self = this

                const reader = new FileReader()
                
                reader.onload = event => {
                  
                  var string = event.target.result

                  var vibe_check = 'AES-256::'

                  console.log( string )

                  if (!string.includes(vibe_check)) return alert('Wallet Not Supported.')

                  self.accounts = nano.import( string.replace(vibe_check, ''), window.prompt('Welcome, back. (Password):'))


                  setTimeout(() => {
                    self.loading = false
                  }, 500)

                }
                
                reader.onerror = error => reject(error)

                reader.readAsText(this.$refs.import.files[0]) 

              },

              new_wallet() {

                var password = window.prompt('New Wallet (Password):')

                if (password.length <= 4) {
                  window.alert('4 characters or more.')
                  password = window.prompt('New Wallet (Password):')
                  if (password.length < 6) return
                }

                this.accounts = nano.app(password)

                setTimeout(() => {
                  this.loading = false
                }, 100)

              },

              load() {
                if (localStorage.getItem(`nano-offline`)) {

                  try {

                    this.password = window.prompt('Welcome, back. (Password):')

                    var accounts = nano.app(this.password)

                    this.accounts = accounts

                    this.loading = false

                    if (this.accounts.length) {
                      this.history = []
                      for (var account of this.accounts) {
                        nano.rpc({ action: "history", account: account.address, count: "100" }).then((history) => {
                          history.history.map(a => {
                            this.history.push(a)
                          })
                        })
                      }
                    }

                  } catch(e) {
                    console.log(e)
                    window.alert('No Match. Try Again.')
                  }

                }
              },

              add_account() {
                
                nano.add_account({ secret: window.prompt('Add Account (Password):') }).then((accounts) => {
                    this.accounts = accounts
                    window.alert(`Don't forget to export your Wallet again. To include this new account.`)
                })

              }

            },
          })

        </script>

    </body>

</html>